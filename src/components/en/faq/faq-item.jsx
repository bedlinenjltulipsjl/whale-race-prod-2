import WebApp from "@twa-dev/sdk";
import { useState } from "react";
import Collapsible from "react-collapsible";

export default function FaqItem({ title, children }) {
  const [isOpen, setIsOpen] = useState(false);
  const handleToggle = () => {
    setIsOpen(!isOpen);
    WebApp.HapticFeedback.impactOccurred("light");
  };

  return (
    <div className="w-full relative rounded-[24px]  flex flex-col">
      <div
        onClick={handleToggle}
        className={`w-full border-gradient-faq relative rounded-[24px] p-[16px] flex items-center cursor-pointer`}
      >
        {title}
        <div className="ml-auto">
          {isOpen ? (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
            >
              <path
                d="M13.5422 8.48467C13.6058 8.54482 13.6807 8.59184 13.7625 8.62305C13.8443 8.65426 13.9315 8.66905 14.019 8.66657C14.1066 8.66409 14.1927 8.6444 14.2727 8.60862C14.3526 8.57283 14.4247 8.52165 14.4848 8.458C14.545 8.39436 14.592 8.31949 14.6232 8.23767C14.6544 8.15585 14.6692 8.06868 14.6667 7.98115C14.6642 7.89361 14.6446 7.80742 14.6088 7.7275C14.573 7.64758 14.5218 7.57548 14.4582 7.51534L8.45816 1.84867C8.33438 1.73165 8.1705 1.66644 8.00016 1.66644C7.82982 1.66644 7.66594 1.73165 7.54216 1.84867L1.54149 7.51534C1.47645 7.57509 1.42393 7.64716 1.38698 7.72738C1.35003 7.8076 1.32939 7.89436 1.32625 7.98262C1.32312 8.07088 1.33755 8.15889 1.36871 8.24153C1.39988 8.32417 1.44715 8.39979 1.50779 8.464C1.56842 8.52822 1.64122 8.57974 1.72193 8.61559C1.80265 8.65143 1.88969 8.67088 1.97798 8.6728C2.06628 8.67472 2.15408 8.65908 2.23628 8.62679C2.31849 8.59449 2.39345 8.54618 2.45683 8.48467L8.00016 3.25L13.5422 8.48467Z"
                fill="white"
              />
            </svg>
          ) : (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="14"
              height="8"
              viewBox="0 0 14 8"
              fill="none"
            >
              <path
                d="M1.45784 0.515389C1.39419 0.455244 1.31932 0.408224 1.2375 0.377014C1.15568 0.345804 1.06852 0.331014 0.980984 0.33349C0.893449 0.335967 0.807259 0.35566 0.727336 0.391446C0.647412 0.427231 0.575319 0.478409 0.515174 0.542056C0.455028 0.605703 0.408008 0.680574 0.376798 0.762394C0.345587 0.844213 0.330798 0.931378 0.333274 1.01891C0.33575 1.10645 0.355444 1.19264 0.391229 1.27256C0.427015 1.35249 0.478193 1.42458 0.54184 1.48472L6.54184 7.15139C6.66562 7.26841 6.8295 7.33362 6.99984 7.33362C7.17018 7.33362 7.33406 7.26841 7.45784 7.15139L13.4585 1.48472C13.5235 1.42497 13.5761 1.3529 13.613 1.27268C13.65 1.19246 13.6706 1.1057 13.6737 1.01744C13.6769 0.929176 13.6624 0.841169 13.6313 0.758531C13.6001 0.675894 13.5528 0.600272 13.4922 0.536058C13.4316 0.471844 13.3588 0.420319 13.2781 0.384474C13.1973 0.34863 13.1103 0.329182 13.022 0.327259C12.9337 0.325336 12.8459 0.340977 12.7637 0.373272C12.6815 0.405569 12.6065 0.453876 12.5432 0.515389L6.99984 5.75006L1.45784 0.515389Z"
                fill="white"
              />
            </svg>
          )}
        </div>
      </div>
      <Collapsible trigger="" open={isOpen} className="w-full text-[15px]">
        <div className="mt-4 pt-2 px-4 text-[13px] font-['Gilroy-500']">
          {children}
        </div>
      </Collapsible>
    </div>
  );
}
